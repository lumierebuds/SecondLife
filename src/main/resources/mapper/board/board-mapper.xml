<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">

	<insert id="insertBoard" parameterType="board" useGeneratedKeys="true">
	
		<selectKey keyProperty="boardNo" resultType="int" order="BEFORE">
			SELECT SEQ_BOARD_NO.NEXTVAL FROM DUAL
		</selectKey>
	
		INSERT INTO BOARD
		VALUES(
			SEQ_BOARD_NO.CURRVAL,
			#{categoryNo},
			#{boardWriter},
			#{tradeCategoryNo},
			#{productName},
			#{price},
			#{condition},
			#{content},
			DEFAULT,
			DEFAULT,
			DEFAULT,
			DEFAULT
		)
	
	</insert>
	
	<insert id="insertBoardImg">
		INSERT INTO BOARD_IMG
		(
			BOARD_IMG_NO,
			BOARD_NO,
			CHANGE_NAME,
			IMG_PATH
		) VALUES
		(
			SEQ_BOARD_IMG_NO.NEXTVAL,
			#{boardNo},
			#{changeName},
			#{imgPath}
		)
	</insert>

</mapper>